{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport { withTranslation } from \"../utils/i18n\";\n\nconst NameEntry = ({\n  t,\n  onNameEntry,\n  gameCode,\n  socket\n}) => {\n  const {\n    0: name,\n    1: setName\n  } = useState(\"\"); // if dev game, pick random name and submit\n\n  useEffect(() => {\n    if (gameCode === \"ffff\") {\n      const randFourDig = Math.floor(1000 + Math.random() * 9000);\n      onNameEntry(String(randFourDig));\n    }\n  }, []);\n\n  const handleNameChange = ({\n    target: {\n      value\n    }\n  }) => setName(value);\n\n  const handleJoin = e => {\n    if (e) e.preventDefault();\n    onNameEntry(name);\n  };\n\n  const handleBack = e => {\n    e.preventDefault(); //prevents a redirect back to /[gameCode]\n\n    socket.off(\"disconnect\");\n    Router.push(\"/\");\n  };\n\n  const onEnter = e => {\n    if (e.key !== \"Enter\") return;\n    handleJoin();\n  };\n\n  return __jsx(\"div\", {\n    className: \"main-menu\"\n  }, __jsx(\"h3\", null, t(\"ui.waiting for players\")), __jsx(\"hr\", null), __jsx(\"div\", null, __jsx(\"label\", {\n    htmlFor: \"player-name\"\n  }, t(\"ui.enter your name\")), __jsx(\"input\", {\n    type: \"text\",\n    id: \"player-name\",\n    placeholder: \"Use your real name!\",\n    value: name,\n    onChange: handleNameChange,\n    autoFocus: true,\n    onKeyDown: onEnter,\n    maxLength: 24\n  }), __jsx(\"div\", {\n    className: \"button-container\"\n  }, __jsx(\"button\", {\n    className: \"btn-leave\",\n    onClick: handleBack\n  }, t(\"ui.back\")), __jsx(\"button\", {\n    type: \"submit\",\n    onClick: handleJoin\n  }, t(\"ui.join\")))));\n};\n\nexport default withTranslation(\"common\")(NameEntry);","map":null,"metadata":{},"sourceType":"module"}