{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { withTranslation } from \"../utils/i18n\";\nimport Router from \"next/router\";\nimport { logEvent } from \"../utils/analytics\";\nimport Settings from \"./Settings\";\nimport ThanksForPlaying from \"./ThanksForPlaying\";\nimport AccessCode from \"./AccessCode\";\nimport HideableContainer from \"./HideableContainer\";\n\nvar Lobby = function Lobby(_ref) {\n  var t = _ref.t,\n      gameState = _ref.gameState,\n      socket = _ref.socket;\n  var playerList = gameState.players.map(function (player) {\n    return _objectSpread({}, player, {\n      isMe: player.name === gameState.me.name\n    });\n  });\n\n  var handleStartGame = function handleStartGame() {\n    socket.emit(\"startGame\");\n    logEvent(\"lobby-numberOfPlayers\", gameState.players.length);\n    logEvent(\"lobby-locationPack\", gameState.settings.locationPack);\n    logEvent(\"lobby-timeLimit\", gameState.settings.timeLimit);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(\"h4\", null, t(\"ui.waiting for players\")), __jsx(AccessCode, {\n    code: gameState.code\n  }), __jsx(\"hr\", null), __jsx(\"ol\", {\n    className: \"lobby-player-list\"\n  }, playerList.map(function (player, i) {\n    return __jsx(\"li\", {\n      key: i,\n      className: \"player-box\"\n    }, player.name, !player.name && __jsx(\"i\", null, \"Joining...\"), player.isMe && __jsx(\"a\", {\n      href: \"#\",\n      className: \"btn-edit-player\",\n      \"data-player-id\": \"{{ _id }}\",\n      onClick: function onClick() {\n        return socket.emit(\"clearName\");\n      }\n    }, \"Edit name\"), !player.isMe && __jsx(\"a\", {\n      href: \"#\",\n      className: \"btn-remove-player\",\n      \"data-player-id\": \"{{ _id }}\",\n      onClick: function onClick() {\n        return socket.emit(\"removePlayer\", player.name);\n      }\n    }, \"Remove player\"));\n  })), __jsx(\"br\", null), __jsx(HideableContainer, {\n    title: \"Game Settings\",\n    initialHidden: true\n  }, __jsx(Settings, {\n    gameState: gameState,\n    socket: socket\n  })), __jsx(\"div\", {\n    className: \"button-container\"\n  }, __jsx(\"button\", {\n    className: \"btn-start\",\n    onClick: handleStartGame,\n    disabled: gameState.status !== \"lobby-ready\"\n  }, t(\"ui.start game\")), __jsx(\"button\", {\n    className: \"btn-leave\",\n    onClick: function onClick() {\n      //prevents a redirect back to /[gameCode]\n      socket.off(\"disconnect\");\n      Router.push(\"/\");\n    }\n  }, t(\"ui.leave game\"))), gameState.currentRoundNum > 1 && __jsx(ThanksForPlaying, null));\n};\n\nexport default withTranslation(\"common\")(Lobby);","map":null,"metadata":{},"sourceType":"module"}