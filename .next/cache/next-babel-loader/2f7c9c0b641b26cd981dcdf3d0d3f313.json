{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Router from \"next/router\";\nimport { withTranslation } from \"../utils/i18n\";\n\nvar NameEntry = function NameEntry(_ref) {\n  var t = _ref.t,\n      onNameEntry = _ref.onNameEntry,\n      gameCode = _ref.gameCode,\n      socket = _ref.socket;\n\n  var _useState = useState(\"\"),\n      name = _useState[0],\n      setName = _useState[1]; // if dev game, pick random name and submit\n\n\n  useEffect(function () {\n    if (gameCode === \"ffff\") {\n      var randFourDig = Math.floor(1000 + Math.random() * 9000);\n      onNameEntry(String(randFourDig));\n    }\n  }, []);\n\n  var handleNameChange = function handleNameChange(_ref2) {\n    var value = _ref2.target.value;\n    return setName(value);\n  };\n\n  var handleJoin = function handleJoin(e) {\n    if (e) e.preventDefault();\n    onNameEntry(name);\n  };\n\n  var handleBack = function handleBack(e) {\n    e.preventDefault(); //prevents a redirect back to /[gameCode]\n\n    socket.off(\"disconnect\");\n    Router.push(\"/\");\n  };\n\n  var onEnter = function onEnter(e) {\n    if (e.key !== \"Enter\") return;\n    handleJoin();\n  };\n\n  return __jsx(\"div\", {\n    className: \"main-menu\"\n  }, __jsx(\"h3\", null, t(\"ui.waiting for players\")), __jsx(\"hr\", null), __jsx(\"div\", null, __jsx(\"label\", {\n    htmlFor: \"player-name\"\n  }, t(\"ui.enter your name\")), __jsx(\"input\", {\n    type: \"text\",\n    id: \"player-name\",\n    placeholder: \"Use your real name!\",\n    value: name,\n    onChange: handleNameChange,\n    autoFocus: true,\n    onKeyDown: onEnter,\n    maxLength: 24\n  }), __jsx(\"div\", {\n    className: \"button-container\"\n  }, __jsx(\"button\", {\n    className: \"btn-leave\",\n    onClick: handleBack\n  }, t(\"ui.back\")), __jsx(\"button\", {\n    type: \"submit\",\n    onClick: handleJoin\n  }, t(\"ui.join\")))));\n};\n\nexport default withTranslation(\"common\")(NameEntry);","map":null,"metadata":{},"sourceType":"module"}